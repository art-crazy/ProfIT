<html>
  <head>
    <script>
      // ВВОД ИСХОДНЫХ ДАННЫХ
      let S = Number(
        prompt("Введи размер свободного места на диске (не более 100 000)")
      );
      let N = Number(
        prompt("Введи количество пользователей (не более 10 000)")
      );
      let bitOfMin = []; // Массив размеров файлов по возростанию
      let bitOfMax = []; // Массив размеров файлов по убыванию
      let numberMax = 0;

      bitOfMin.length = N;
      for (let i = 0; i < bitOfMin.length; i++) {
        bitOfMin[i] = Number(
          prompt(
            "Введи значения объёмов файлов для пользователя №" +
              (i + 1) +
              " (не более 100):"
          )
        );
      }

      console.log("Размер свободого места на диске: " + S);
      console.log("");
      // сортировка по возростанию объёмов файлов пользователей
      for (let j = bitOfMin.length - 1; j > 0; j--) {
        for (i = 0; i < j; i++) {
          if (bitOfMin[i] > bitOfMin[i + 1]) {
            let temp = bitOfMin[i];
            bitOfMin[i] = bitOfMin[i + 1];
            bitOfMin[i + 1] = temp;
          }
        }
      }

      console.log(
        "Сортированный массив по возрастанию с объемом пользовательских файлов"
      );
      console.log(bitOfMin);

      // сортировка по убыванию объёмов файлов пользователей
      bitOfMax = bitOfMin.slice();
      for (let j = bitOfMax.length - 1; j > 0; j--) {
        for (i = 0; i < j; i++) {
          if (bitOfMax[i] < bitOfMax[i + 1]) {
            let temp = bitOfMax[i];
            bitOfMax[i] = bitOfMax[i + 1];
            bitOfMax[i + 1] = temp;
          }
        }
      }

      bitPlaceInDisk = []; // Массив с размером файлов, которые смогут поместиться на диск

      let count = 0;
      for (var i = 0; i < bitOfMin.length; i++) {
        if (S > bitOfMin[i]) {
          bitPlaceInDisk[i] = [];
          bitPlaceInDisk[i] = bitOfMin[i];
          S = S - bitOfMin[i];
          count++;
        }
      }

      // Ищем замену последнему числу массиву на бОльшее
      count++;
      for (let j = bitOfMin.length - count; j >= 0; j--) {
        if (S + bitPlaceInDisk[count - 2] >= bitOfMax[j]) {
          S = S + bitPlaceInDisk[count - 2] - bitOfMax[j];
          bitPlaceInDisk[count - 2] = bitOfMax[j];
        }
      }

      // Вычисляем MAX одного файла, который сможем поместить в архив
      for (let i = 0; i < bitPlaceInDisk.length; i++) {
        if (numberMax < bitPlaceInDisk[i]) {
          numberMax = bitPlaceInDisk[i];
        }
      }

      console.log("");
      console.log(
        "Массив с размером файлов, которые смогут поместиться на диск"
      );
      console.log(bitPlaceInDisk);
      console.log("");
      console.log(
        bitPlaceInDisk.length + " пользователей смогут сохранить файлы в архиве"
      );

      console.log("");
      console.log(
        "Самый большй объем файла, который поместится в архив: " + numberMax
      );
    </script>
  </head>
  <body>
    <p>
      Системный администратор раз в неделю создаёт архив пользовательских
      файлов.
    </p>
    <p>
      Проблема: Однако объём диска, куда он помещает архив, может быть меньше,
      чем суммарный объём архивируемых файлов.
    </p>
    <p>
      Известно, какой объём занимает файл каждого пользователя. По заданной
      информации об объёме файлов пользователей и свободном объёме на архивном
      диске определите максимальное:
    </p>
    <p>1) Число пользователей, чьи файлы можно сохранить в архиве.</p>
    <p>
      2) А также максимальный размер имеющегося файла, который может быть
      сохранён в архиве, при условии, что сохранены файлы максимально возможного
      числа пользователей
    </p>
    <p>
      Входные данные: S – размер свободного места на диске (натуральное число,
      не превышающее 100 000), N – количество пользователей (натуральное число,
      не превышающее 10000, значения объёмов файлов каждого пользователя (все
      числа натуральные, не превышающие 100).
    </p>
    <p>Результат:</p>
    <p>
      1) Вывести сначала наибольшее число пользователей, чьи файлы могут быть
      помещены в архив,
    </p>
    <p>
      2) Затем максимальный размер имеющегося файла, который может быть сохранён
      в архиве, при условии, что сохранены файлы максимально возможного числа
      пользователей
    </p>
    <p>
      Пример: S=100, N=4 Объём каждого файла для записи в архив: 80, 30, 50, 40
      При таких исходных данных можно сохранить файлы максимум двух
      пользователей. Возможные объёмы этих двух файлов 30 и 40, 30 и 50 или 40 и
      50. Наибольший объём файла из перечисленных пар – 50, поэтому ответ для
      приведённого примера: 2 50 Предполагается, что не все файлы могут быть
      сохранены на диске, то есть хотя бы для одного файла места не хватит
    </p>
    <h1>Работа в браузере с JS</h1>
    <p>12 июня 2022 года</p>
  </body>
</html>
