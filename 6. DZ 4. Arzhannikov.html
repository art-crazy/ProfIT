<html>
  <head>
    <script>
      // ВВОД ИСХОДНЫХ ДАННЫХ

      option = Number(
        prompt(
          "Выбери способ заполнения массива.\n1 - заполнение вручную.\n2 - строго заданные значения массива.\n3 - рандомные значения от одного до ста"
        )
      );

      let array = [];

      switch (
        option // выбираем способ заполнения массива
      ) {
        case 1:
          J = Number(prompt("Введи количество чисел в последовательности (J)"));

          array.length = J;

          for (let i = 0; i < array.length; i++) {
            array[i] = Number(prompt("Введите целое число:"));
          }

          break;

        case 2:
          array = [64, 91, 73, 23, 15, 68, 52, 41, 8, 7, 67];
          break;

        case 3:
          J = Number(prompt("Введи количество чисел в последовательности (J)"));

          array.length = J;

          for (let i = 0; i < array.length; i++) {
            array[i] = Math.floor(Math.random() * (101 - 1) + 1);
          }
      }

      console.log("Массив в начале задачи: " + array);

      // метод сортировки бинарными включениями

      function binarySearch(a, item, low, high) {
        if (high <= low) return item < a[low] ? low + 1 : low;

        mid = Math.floor((low + high) / 2);

        if (item == a[mid]) return mid + 1;

        if (item < a[mid]) return binarySearch(a, item, mid + 1, high);

        return binarySearch(a, item, low, mid - 1);
      }

      for (let i = 1; i < array.length; i++) {
        let j = i - 1;
        let x = array[i];
        let loc = Math.abs(binarySearch(array, x, 0, j));
        while (j >= loc) {
          array[j + 1] = array[j];
          j--;
        }
        array[j + 1] = x;
      }

      for (let i = 0; i < array.length; i++) {
        // удаляем отрицательные числа, т.к. по условию задачи должны быть только положительные числа
        if (array[i] < 0) {
          array.splice(i, 1);
          i--;
        }
      }

      console.log("Массив после сортировки: " + array);
    </script>
  </head>
  <body>
    <h1>
      Задан числовой массив, состоящий из J элементов. Напечатать положительные
      числа в порядке убывания, используя метод сортировки бинарными
      включениями.
    </h1>
    <h1>Работа в браузере с JS</h1>
    <p>08 июня 2022 года</p>
  </body>
</html>
